<Window x:Class="CodexNativeAgent.Ui.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:ui="clr-namespace:CodexNativeAgent.Ui"
        Title="Codex Native Agent"
        Width="1540"
        Height="980"
        MinWidth="1200"
        MinHeight="760"
        WindowStartupLocation="CenterScreen"
        SnapsToDevicePixels="True"
        UseLayoutRounding="True"
        TextOptions.TextFormattingMode="Display"
        FontFamily="Segoe UI, Segoe UI Variable Text"
        Background="{DynamicResource AppBackgroundBrush}">
    <Window.Resources />

    <Grid Background="{DynamicResource AppShellBackgroundImageBrush}">
        <Grid.RowDefinitions>
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <Border Grid.RowSpan="2"
                Background="{DynamicResource MainBackgroundGradient}"
                Opacity="0.72"
                IsHitTestVisible="False" />

        <Grid Grid.RowSpan="2" IsHitTestVisible="False">
            <Ellipse Width="420"
                     Height="420"
                     HorizontalAlignment="Left"
                     VerticalAlignment="Top"
                     Margin="-160,-180,0,0"
                     Fill="{DynamicResource HeroBlobBrushA}" />
            <Ellipse Width="510"
                     Height="510"
                     HorizontalAlignment="Right"
                     VerticalAlignment="Top"
                     Margin="0,-230,-220,0"
                     Fill="{DynamicResource HeroBlobBrushB}" />
            <Ellipse Width="360"
                     Height="360"
                     HorizontalAlignment="Right"
                     VerticalAlignment="Bottom"
                     Margin="0,0,100,-170"
                     Fill="{DynamicResource HeroBlobBrushC}" />
        </Grid>

        <Grid Grid.Row="0" Margin="{DynamicResource MainSurfaceMargin}">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="472" MinWidth="368" />
                <ColumnDefinition Width="8" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition x:Name="RightGitPaneSplitterColumn" Width="0" />
                <ColumnDefinition x:Name="RightGitPaneColumn" Width="0" MinWidth="0" />
            </Grid.ColumnDefinitions>

            <Grid Grid.Column="0" ClipToBounds="True">
                <Border IsHitTestVisible="False"
                        CornerRadius="18"
                        Background="{DynamicResource AppShellBackgroundImageBrush}"
                        Opacity="0.9"
                        Effect="{DynamicResource SidebarBackdropBlurEffect}" />

                <Border IsHitTestVisible="False"
                        CornerRadius="18"
                        Background="{DynamicResource MainBackgroundGradient}"
                        Opacity="0.46" />

                <Border IsHitTestVisible="False"
                        CornerRadius="18"
                        Background="{DynamicResource SidebarBackgroundBrush}"
                        Opacity="0.34"
                        BorderBrush="{DynamicResource BorderBrush}"
                        BorderThickness="1" />

                <ui:SidebarPaneControl x:Name="SidebarPaneHost" />
            </Grid>
            <GridSplitter Grid.Column="1"
                          Width="8"
                          HorizontalAlignment="Stretch"
                          VerticalAlignment="Stretch"
                          ShowsPreview="True"
                          Background="{DynamicResource AccentGlowBrush}"
                          Opacity="0.55" />

            <ui:WorkspacePaneControl x:Name="WorkspacePaneHost" Grid.Column="2" />

            <GridSplitter x:Name="RightGitPaneSplitter"
                          Grid.Column="3"
                          Width="8"
                          HorizontalAlignment="Stretch"
                          VerticalAlignment="Stretch"
                          ShowsPreview="True"
                          Background="{DynamicResource AccentGlowBrush}"
                          Opacity="0.55"
                          Visibility="Collapsed" />

            <Grid x:Name="RightGitPaneShell"
                  Grid.Column="4"
                  Visibility="Collapsed"
                  ClipToBounds="True">
                <Border IsHitTestVisible="False"
                        CornerRadius="18"
                        Background="{DynamicResource AppShellBackgroundImageBrush}"
                        Opacity="0.9"
                        Effect="{DynamicResource SidebarBackdropBlurEffect}" />

                <Border IsHitTestVisible="False"
                        CornerRadius="18"
                        Background="{DynamicResource MainBackgroundGradient}"
                        Opacity="0.46" />

                <Border IsHitTestVisible="False"
                        CornerRadius="18"
                        Background="{DynamicResource SidebarBackgroundBrush}"
                        Opacity="0.28"
                        BorderBrush="{DynamicResource BorderBrush}"
                        BorderThickness="1" />

                <ui:GitPaneControl x:Name="GitPaneHost" />
            </Grid>

            <Border x:Name="ToastOverlay"
                    Grid.ColumnSpan="5"
                    Background="{DynamicResource ToastInfoBackgroundBrush}"
                    BorderBrush="{DynamicResource ToastInfoBorderBrush}"
                    BorderThickness="1"
                    CornerRadius="11"
                    Padding="13,9"
                    HorizontalAlignment="Right"
                    VerticalAlignment="Top"
                    Margin="16"
                    Effect="{DynamicResource FloatingShadowEffect}"
                    Visibility="Collapsed">
                <DockPanel LastChildFill="True">
                    <Button x:Name="BtnToastClose"
                            DockPanel.Dock="Right"
                            Width="18"
                            Height="18"
                            MinWidth="18"
                            MinHeight="18"
                            Margin="8,0,0,0"
                            Padding="0"
                            Background="Transparent"
                            BorderBrush="Transparent"
                            BorderThickness="0"
                            Cursor="Hand"
                            ToolTip="Dismiss">
                        <TextBlock Text="x"
                                   FontSize="11"
                                   Foreground="{DynamicResource TextTertiaryBrush}"
                                   HorizontalAlignment="Center"
                                   VerticalAlignment="Center" />
                    </Button>
                    <TextBlock x:Name="LblToastText"
                               TextWrapping="Wrap"
                               MaxWidth="620"
                               VerticalAlignment="Center" />
                </DockPanel>
            </Border>
        </Grid>

        <ui:StatusBarPaneControl x:Name="StatusBarPaneHost" Grid.Row="1" />
    </Grid>
</Window>
